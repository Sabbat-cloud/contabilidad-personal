{% extends "base.html" %}

{% block content %}
    <h2>Gestionar Presupuestos para {{ month }}/{{ year }}</h2>
    <p>Establece un límite de gasto mensual para tus categorías.</p>
    <hr>

    <form action="" method="post">
        <table class="table">
            <thead>
                <tr>
                    <th>Categoría de Gasto</th>
                    <th>Presupuesto (€)</th>
                </tr>
            </thead>
            <tbody>
                {% for category in categories %}
                <tr>
                    <td>{{ category.name }}</td>
                    <td>
                        <input type="number" step="0.01" name="budget-{{ category.id }}" 
                               class="form-control" value="{{ budgets[category.id] if category.id in budgets else '' }}"
                               placeholder="Ej: 300.00">
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="2">No tienes categorías de gastos. <a href="{{ url_for('manage_categories') }}">Crea una primero</a>.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <button type="submit" class="btn btn-primary">Guardar Presupuestos</button>
    </form>
{% endblock %}
